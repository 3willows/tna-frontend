{% set headerContainerClassWidth = "govuk-header__container--full-width" if params.fullWidth else "govuk-width-container" %}
{% set navigationContainerClassWidth = "nationalarchives-header-navigation__container--full-width" if params.fullWidth else "govuk-width-container" %}
{% set menuButtonText = params.menuButtonText if params.menuButtonText else 'Menu' %}
{% set hasNavigation = params.navigation | length %}

<header
    class="govuk-header nationalarchives-header{% if hasNavigation %} nationalarchives-header--has-menu{% endif %} {{ params.classes if params.classes }}"
    role="banner"
    data-module="nationalarchives-header"
    {%- for attribute, value in params.attributes %} {{attribute}}="{{value}}"{% endfor %}
>
  <div class="govuk-header__container nationalarchives-header__container {{ headerContainerClassWidth }} {{ params.containerClasses }}">
    {% if params.productName or params.logo %}
    <div class="govuk-header__logo govuk-header__logo--nationalarchives">
      {% if params.homepageUrl %}
      <a href="{{ params.homepageUrl | default('/') }}" class="govuk-header__link govuk-header__link--homepage">
      {% else %}
      <span class="govuk-header__link--homepage govuk-header__link--no-hover">
      {% endif %}
        {% if params.logo %}
        <span class="govuk-header__logotype">
          
          <?xml version="1.0" encoding="utf-8"?>
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 160 160" style="enable-background:new 0 0 160 160;" xml:space="preserve" aria-hidden="true"
            focusable="false"
            class="nationalarchives-header__logotype-logo"
            width="30"
            height="30">
<style type="text/css">
    .st0{fill:#000;}
    .st1{fill:#fff;}
</style>
<rect class="st0" width="160" height="160"/>
<path class="st1" d="M1.9,107.2h156.3V158H1.9V107.2z M1.9,54.5h79.1h77.2v50.8H1.9V54.5z M1.9,1.9h77.2v50.8H1.9V1.9z M80.9,1.9
    h77.2v50.8H80.9C80.9,52.7,80.9,1.9,80.9,1.9z M80.9,0H0v52.7v1.9v50.8v1.9v52.7h160v-52.7v-1.9V52.7V0H80.9z"/>
<polygon class="st1" points="21.3,19.5 15.9,19.5 15.9,16.5 30.2,16.5 30.2,19.5 24.8,19.5 24.8,37.9 21.3,37.9 "/>
<polygon class="st1" points="31.6,16.5 35,16.5 35,25.5 43.4,25.5 43.4,16.5 46.8,16.5 46.8,37.9 43.4,37.9 43.4,28.6 35,28.6 
    35,37.9 31.6,37.9 "/>
<polygon class="st1" points="50.9,16.5 63.1,16.5 63.1,19.5 54.3,19.5 54.3,25.6 61.7,25.6 61.7,28.6 54.3,28.6 54.3,34.9 
    63.1,34.9 63.1,37.9 50.9,37.9 "/>
<path class="st1" d="M19.7,69.2h3.8l6.4,12.5c0.6,1.1,1.1,2.7,1.6,4h0.2c-0.2-1.7-0.3-3.6-0.3-4.8V69.2h3.5v21.4h-3.7l-6.3-12.3
    c-0.7-1.4-1.2-2.7-1.7-4.2h-0.2c0.2,1.4,0.3,3.3,0.3,5v11.5h-3.5C19.7,90.6,19.7,69.2,19.7,69.2z"/>
<path class="st1" d="M47.8,82.6l-1.7-6.3c-0.3-1.1-0.6-2.2-0.9-3.8H45c-0.3,1.6-0.5,2.6-0.8,3.8l-1.7,6.3H47.8z M43,69.2h4.2
    l6.2,21.4h-3.5l-1.5-5.2h-6.6l-1.4,5.2h-3.6L43,69.2z"/>
<polygon class="st1" points="57.2,72.3 51.8,72.3 51.8,69.2 66,69.2 66,72.3 60.6,72.3 60.6,90.7 57.2,90.7 "/>
<rect x="67.8" y="69.2" class="st1" width="3.5" height="21.4"/>
<path class="st1" d="M87.5,80c0-5.3-1.7-8-4.8-8c-3.2,0-4.8,2.7-4.8,8c0,5.2,1.6,7.9,4.8,7.9C85.9,87.9,87.5,85.2,87.5,80 M74.2,80
    c0-7,3-11.1,8.5-11.1c5.4,0,8.4,4.1,8.4,11.1c0,6.9-3,11-8.4,11C77.3,91,74.2,86.9,74.2,80"/>
<path class="st1" d="M94.3,69.2H98l6.4,12.5c0.6,1.1,1.2,2.7,1.7,4h0.2c-0.2-1.7-0.3-3.6-0.3-4.8V69.2h3.4v21.4h-3.7l-6.3-12.3
    c-0.7-1.4-1.2-2.7-1.7-4.2h-0.2c0.2,1.4,0.3,3.3,0.3,5v11.5h-3.5V69.2z"/>
<path class="st1" d="M122.4,82.6l-1.7-6.3c-0.3-1.1-0.6-2.2-0.9-3.8h-0.2c-0.3,1.6-0.5,2.6-0.8,3.8l-1.7,6.3H122.4z M117.6,69.2h4.2
    l6.2,21.4h-3.5l-1.5-5.2h-6.6l-1.4,5.2h-3.6L117.6,69.2z"/>
<polygon class="st1" points="129.9,69.2 133.4,69.2 133.4,87.6 141.8,87.6 141.8,90.7 129.9,90.7 "/>
<path class="st1" d="M26.9,135.2l-1.7-6.3c-0.3-1.1-0.6-2.2-0.9-3.8h-0.2c-0.3,1.6-0.5,2.6-0.8,3.8l-1.7,6.3H26.9z M22.1,121.8h4.2
    l6.2,21.4H29l-1.5-5.2h-6.6l-1.4,5.2h-3.6L22.1,121.8z"/>
<path class="st1" d="M39.9,132.5c2.5,0,3.4-1.6,3.4-3.9c0-2.2-1-3.8-3.4-3.8h-2.7v7.7H39.9z M33.8,121.8h6.4c4.5,0,6.7,2.4,6.7,6.6
    c0,3.1-1.5,5.6-3.7,6.3v0.2c1,1.1,4,7.5,4.8,7.9v0.5h-3.8c-1-0.6-3.6-7.2-4.4-7.8h-2.5v7.8h-3.5L33.8,121.8L33.8,121.8z"/>
<path class="st1" d="M52.9,132.5c0,5.3,1.9,8,4.8,8c2.9,0,4-2,4-5.2l3.5,0.1c0,0.2,0.1,0.4,0.1,0.6c0,4.4-2.1,7.5-7.5,7.5
    c-5.2,0-8.5-3.9-8.5-11.1c0-7.1,3.3-11,8.5-11c6.4,0,7.5,4.6,7.5,7.2c0,0.3,0,0.7-0.1,0.9l-3.5,0.1c0-3.3-1.2-5.2-4-5.2
    C54.8,124.6,52.9,127.3,52.9,132.5"/>
<polygon class="st1" points="68,121.8 71.5,121.8 71.5,130.9 79.8,130.9 79.8,121.8 83.3,121.8 83.3,143.3 79.8,143.3 79.8,133.9 
    71.5,133.9 71.5,143.3 68,143.3 "/>
<rect x="87.9" y="121.8" class="st1" width="3.5" height="21.4"/>
<path class="st1" d="M94.2,121.8h3.6l3.2,12.3c0.5,1.9,0.8,3.6,1.1,5.6h0.2c0.3-2,0.6-3.7,1.1-5.6l3.2-12.3h3.6l-6.1,21.4h-4.1
    L94.2,121.8z"/>
<polygon class="st1" points="112.7,121.8 125,121.8 125,124.9 116.2,124.9 116.2,130.9 123.6,130.9 123.6,133.9 116.2,133.9 
    116.2,140.2 125,140.2 125,143.3 112.7,143.3 "/>
<path class="st1" d="M130.4,136c0,0.2-0.1,0.5-0.1,0.8c0,1.9,0.8,3.7,3.4,3.7c2.1,0,3.3-1.2,3.3-2.9c0-1.6-0.7-2.4-2.2-3l-3.4-1.3
    c-2.4-0.9-4.2-2.4-4.2-5.7c0-3.5,2.3-6.1,6.6-6.1c5.5,0,6.4,3.6,6.4,5.9c0,0.3,0,0.7-0.1,1.1l-3.4,0.1c0-0.2,0.1-0.5,0.1-0.7
    c0-1.7-0.6-3.2-3-3.2c-2.1,0-3,1.2-3,2.8c0,1.7,0.9,2.5,2.2,2.9l3.5,1.3c2.6,1,4.3,2.6,4.3,5.8c0,3.6-2.4,6.1-7,6.1
    c-5.9,0-6.8-3.9-6.8-6.5c0-0.3,0-0.6,0.1-1L130.4,136z"/>
</svg>

          
          
          
          
          <!--[if IE 8]>
          <img src="{{ params.assetsPath | default('/assets/images') }}/tna-square-logo-inverted.svg" width="100" height="32" alt="The National Archives logo">
          <![endif]-->
        </span>
        {% endif %}
        
      {% if params.homepageUrl %}
      </a>
      {% else %}
      </span>
      {% endif %}
    </div>
    {% endif %}
    <div class="govuk-header__content govuk-header__content--nationalarchives">
    {% if params.serviceUrl %}
      <a href="{{ params.serviceUrl }}" class="govuk-header__link govuk-header__service-name">
        {{ params.serviceName }}
      </a>
    {% else %}
      <span class="govuk-header__service-name">
        {{ params.serviceName }}
      </span>
    {% endif %}

      <!--
      <nav aria-label="Menu" class="govuk-header__navigation ">
        <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" aria-label="Show or hide menu" hidden>Menu</button>
        <ul id="navigation" class="govuk-header__navigation-list">
        {% for item in params.navigation %}
          {% if item.href and item.text %}
          <li class="govuk-header__navigation-item{% if item.active %} govuk-header__navigation-item--active{% endif %}"{% for attribute, value in item.attributes %} {{attribute}}="{{value}}"{% endfor %}>
            <a class="govuk-header__link" href="{{ item.href }}">
              {{ item.text }}
            </a>
          </li>
          {% endif %}
        {% endfor %}
        </ul>
      </nav>
      -->

    </div>
    {% if hasNavigation %}
    <button
        type="button"
        class="govuk-header__menu-button nationalarchives-js-header-toggle"
        aria-controls="navigation"
        aria-label="{{ params.menuButtonLabel | default('Show or hide menu') }}"
        hidden
    >{{ menuButtonText }}</button>
    {% endif %}
  </div>
  {% if hasNavigation %}
  <nav
      id="navigation"
      class="nationalarchives-header-navigation govuk-clearfix {{ params.navigationClasses if params.navigationClasses }}"
      aria-label="{{ params.navigationLabel | default(menuButtonText) }}"
      role="navigation"
      {%- for attribute, value in params.navigationAttributes %} {{attribute}}="{{value}}"{% endfor %}
  >
    <div class="nationalarchives-header-navigation__container {{ navigationContainerClassWidth }} {{ params.navigationContainerClasses }}">
      <ul class="nationalarchives-header-navigation__list">
      {% for item in params.navigation %}
        {% if item.href and item.text %}
        <li class="nationalarchives-header-navigation__list-item{% if item.active %} nationalarchives-header-navigation__list-item--current{% endif %}"{% for attribute, value in item.attributes %} {{attribute}}="{{value}}"{% endfor %}>
          <a class="govuk-link govuk-link--no-underline nationalarchives-header-navigation__link" href="{{ item.href }}">
            {{ item.text }}
          </a>
        </li>
        {% endif %}
      {% endfor %}
      </ul>
    </div>
  </nav>
  {% endif %}
</header>
