@use "sass:math";
@use "../variables/grid";

@mixin columns-generator($count, $suffix: "") {
  @for $i from 1 through $count - 1 {
    $simplestFractionFound: false;

    @for $j from math.div($count, 2) through 1 {
      @if (
        $count % $j == 0 and $i % $j == 0 and $simplestFractionFound != true
      ) {
        .tna-column--width-#{math.div($i, $j)}-#{math.div($count, $j)}#{$suffix} {
          width: math.div(100%, $count) * $i;
          flex: none;
        }

        // .column--margin-right-#{math.div($i, $j)}-#{math.div($count, $j)}#{$suffix} {
        //   margin-right: math.div(100%, $count) * $i;
        // }

        // .column--margin-left-#{math.div($i, $j)}-#{math.div($count, $j)}#{$suffix} {
        //   margin-left: math.div(100%, $count) * $i;
        // }

        $simplestFractionFound: true;
      }
    }

    @if ($simplestFractionFound != true) {
      .tna-column--width-#{$i}-#{$count}#{$suffix} {
        width: math.div(100%, $count) * $i;
        flex: none;
      }

      //   .column--margin-right-#{$i}-#{$count}#{$suffix} {
      //     margin-right: math.div(100%, $count) * $i;
      //   }

      //   .column--margin-left-#{$i}-#{$count}#{$suffix} {
      //     margin-left: math.div(100%, $count) * $i;
      //   }
    }
  }
}
